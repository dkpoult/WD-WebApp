<mat-tab-group animationDuration="0ms" (selectedTabChange)="tabChange($event)">
    <mat-tab>
        <ng-template matTabLabel>
            <span matBadge="{{ unreadMessages }}" matBadgeHidden="{{ unreadMessages === 0 }}" matBadgeOverlap="false"
                matBadgeColor="warn">
                Chat
            </span>
        </ng-template>
        <ng-template matTabContent>
            <button mat-icon-button #switchButton (click)="switchMode()">
                <mat-icon>autorenew</mat-icon>
            </button>
            <!-- <div fxFlex="70" fxLayout="row" fxLayoutAlign="start start"> -->
            <div #autoScroll class="container">
                <app-chat-message *ngFor="let message of messages;" (delete)="deleteMessage(message.id)"
                    [message]="message" [outgoing]="message.personNumber === currentUser.personNumber"
                    [canDelete]="isModerator()">
                </app-chat-message>
            </div>
            <!-- </div> -->
            <footer class="input" fxLayout="row" fxLayoutAlign="start start" fxLayoutGap="15ppx">
                <textarea class="messageInput" fxFlex #messageInput placeholder="Type a message" autofocus
                    (keydown.enter)="sendMessage(messageInput, $event)"></textarea>
                <button mat-icon-button class="send" (click)="sendMessage(messageInput)">
                    <mat-icon>send</mat-icon>
                </button>
            </footer>
        </ng-template>
    </mat-tab>
</mat-tab-group>